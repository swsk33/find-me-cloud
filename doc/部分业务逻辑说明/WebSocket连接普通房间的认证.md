由于WebSocket无法携带自定义的请求头，以及当前所使用的Sa-Token框架无法对WebSocket连接进行认证和鉴权操作，因此这里直接使用发送消息的方式完成加入房间的认证。

用户创建并分享的房间，就属于普通房间，**普通房间**的认证通常使用房间`id`和密码的形式完成，其连接路径是`/ws/session/room/{roomId}/{userId}`。

当一个用户刚刚建立连接时，连接仍然属于**未认证**状态，需要做两步认证：

1. 先判断用户是否登录：拿`userId`远程调用用户模块判断
2. 等待用户发送房间认证消息（房间密码）并认证

房间认证消息（`Message`类）如下：

```json
{
	"type": "AUTH",
	"data": "房间密码"
}
```

上述两个步骤都认证通过，会话才算是已认证会话，用户才会被加入房间列表。

否则：

- 若有一个步骤错误则会被断开连接
- 会话连接后一直没有收到房间认证消息，则会在`1`分钟后强制断开

也就是说，每当一个连接建立时，会先将该连接放入一个定时器，使其`1`分钟后断开连接，除非上面两个认证流程都通过才会取消定时器。